<template>
  <div class="p-4">
    <el-card>
      <template #header>
        <div class="flex justify-between items-center">
          <span class="flex-1">
            <el-link :underline="false" type="primary" :href="GITHUB_URL" target="_blank">{{
              name
            }}</el-link
            >æ˜¯ä¸€ä¸ªåŸºäºVue3.0ã€Viteã€ Element Plus 2.x
            ã€TypeScriptçš„ç®¡ç†åå°è§£å†³æ–¹æ¡ˆï¼Œç›®æ ‡æ˜¯ä¸ºä¸­å¤§å‹é¡¹ç›®å¼€å‘ï¼Œæä¾›ç°æˆçš„å¼€ç®±è§£å†³æ–¹æ¡ˆåŠä¸°å¯Œçš„ç¤ºä¾‹ï¼ŒåŒæ—¶å¼€æºç‰ˆæœ¬ä¸ä¼šé™åˆ¶ä»»ä½•ä»£ç ç”¨äºå•†ç”¨ã€‚
          </span>
        </div>
      </template>

      <el-descriptions class="margin-top" title="é¡¹ç›®ä¿¡æ¯" :column="3" border>
        <el-descriptions-item>
          <template #label>
            <div class="cell-item">ç‰ˆæœ¬</div>
          </template>
          {{ infoData.version }}
        </el-descriptions-item>
        <el-descriptions-item>
          <template #label>
            <div class="cell-item">æœ€åç¼–è¯‘æ—¶é—´</div>
          </template>
          {{ infoData.lastBuildTime }}
        </el-descriptions-item>
        <el-descriptions-item>
          <template #label>
            <div class="cell-item">æ–‡æ¡£åœ°å€</div>
          </template>
          <el-link :underline="false" type="primary" :href="infoData.doc" target="_blank"
            >ç‚¹å‡»è®¿é—®</el-link
          >
        </el-descriptions-item>
        <el-descriptions-item>
          <template #label>
            <div class="cell-item">é¢„è§ˆåœ°å€</div>
          </template>
          <el-link :underline="false" type="primary" :href="infoData.preview" target="_blank"
            >ç‚¹å‡»é¢„è§ˆ</el-link
          >
        </el-descriptions-item>
        <el-descriptions-item>
          <template #label>
            <div class="cell-item">GitHub</div>
          </template>
          <el-link :underline="false" type="primary" :href="GITHUB_URL" target="_blank"
            >Github</el-link
          >
        </el-descriptions-item>
      </el-descriptions>
    </el-card>
  </div>
</template>
<script lang="ts">
  import { GITHUB_URL, SITE_URL, DOC_URL } from '@/settings/siteSetting'

  export default defineComponent({
    setup() {
      const { pkg, lastBuildTime } = __APP_INFO__

      const { dependencies, devDependencies, name, version } = pkg
      console.log('ğŸš€ ~ file: index.vue ~ line 25 ~ setup ~ name', name)
      console.log('ğŸš€ ~ file: index.vue ~ line 25 ~ setup ~ devDependencies', devDependencies)
      console.log('ğŸš€ ~ file: index.vue ~ line 25 ~ setup ~ dependencies', dependencies)

      // const schema: DescItem[] = [];
      // const devSchema: DescItem[] = [];

      // const infoSchema: DescItem[] = [
      //   {
      //     label: 'ç‰ˆæœ¬',
      //     field: 'version'
      //   },
      //   {
      //     label: 'æœ€åç¼–è¯‘æ—¶é—´',
      //     field: 'lastBuildTime'
      //   },
      //   {
      //     label: 'æ–‡æ¡£åœ°å€',
      //     field: 'doc'
      //   },
      //   {
      //     label: 'é¢„è§ˆåœ°å€',
      //     field: 'preview'
      //   },
      //   {
      //     label: 'Github',
      //     field: 'github'
      //   }
      // ];

      const infoData = {
        version,
        lastBuildTime,
        doc: DOC_URL,
        preview: SITE_URL,
        github: GITHUB_URL
      }
      console.log('ğŸš€ ~ file: index.vue ~ line 55 ~ setup ~ infoData', infoData)

      // Object.keys(dependencies).forEach((key) => {
      //   schema.push({ field: key, label: key });
      // });

      // Object.keys(devDependencies).forEach((key) => {
      //   devSchema.push({ field: key, label: key });
      // });
      return {
        name,
        GITHUB_URL,
        infoData
      }
    }
  })
</script>
